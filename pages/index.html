<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>MCCP: Home</title>
    <link rel="stylesheet" type="text/css" href="/core/core.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script language="JavaScript">
        var lastUpdateTimeStamp = ''

        var myAjaxCall = function () {
            $.ajax({
                type: "GET",
                url: '/term',
                dataType: "json",
                success: function (json) {
                    if (json.timestamp > lastUpdateTimeStamp) {
                        var term = $('#term-display')
                        term.html('');
                        $.each(json.output, function (index, value) {
                            term.append(value + "<br>");
                        })
                        lastUpdateTimeStamp = json.timestamp;
                        term.scrollTop(term[0].scrollHeight);
                    }
                }
            })
        };

        window.onload = function () {
            var ResInterval = window.setInterval('myAjaxCall()', 1000); // 60 seconds

        };
    </script>
</head>
<body>
<div id="outer">
    <div id="navbar">
        <ul>
            <li class="navbar-button">Login</li>
        </ul>
    </div>
    <div id="panel">
        <div id="sections">
            <ul>
                <li class="section-button">Console</li>
                <li class="section-button">Logs</li>
                <li class="section-button">Files</li>
            </ul>
        </div>
        <div id="control">
            <ul>
                <li class="control-button">Start</li>
            </ul>
        </div>
        <div id="term">
            <div id="term-display">

            </div>
            <form id="io" name="io">
                <div id="term-input">
                    <label for="cmd"><input id="cmd" name="cmd"></label>
                </div>
            </form>
        </div>
    </div>
</div>
</body>
</html>